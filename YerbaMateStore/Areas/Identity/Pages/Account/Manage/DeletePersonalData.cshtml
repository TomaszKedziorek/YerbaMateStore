@page
@model DeletePersonalDataModel
@{
  ViewData["Title"] = "Delete Personal Data";
  ViewData["ActivePage"] = ManageNavPages.PersonalData;
}

<h3>@ViewData["Title"]</h3>

<div class="alert alert-warning" role="alert">
  <strong>Deleting this data will permanently remove your account, and this cannot be recovered.</strong>
</div>

<form id="delete-user" method="post">
  <div asp-validation-summary="ModelOnly" class="text-danger"></div>
  @if (Model.RequirePassword)
  {
    <div class="mb-2 row justify-content-center">
      <label asp-for="Input.Password" class="col-sm-2 col-form-label"></label>
      <div class="col-sm-8">
        <div class="input-group mb-1">
          <input asp-for="Input.Password" class="form-control rounded-0" type="password" autocomplete="current-password"
            id="inputPassword">
          <span class="input-group-text bg-white rounded-0 p-0" id="basic-addon1"><i class="bi bi-eye-slash px-3 py-1"
              id="eyeIconPassword"></i></span>
        </div>
        <span asp-validation-for="Input.Password" class="text-danger"></span>
      </div>
    </div>
  }

  <div class="mb-2 row justify-content-center">
    <div class="col-sm-2"></div>
    <div class="col-sm-8">
      <button id="change-email-button" type="submit" asp-page-handler="ChangeEmail"
        class="w-50 btn btn-lg btn-danger fw-normal">Delete data and close my account</button>
    </div>
  </div>
</form>

@section Scripts {
  <partial name="_ValidationScriptsPartial" />
  <script src="/js/showHidePasswordEyeIcon.js"></script>
}
